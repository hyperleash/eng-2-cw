- name: Gather disk facts
  setup:

- name: Extract UUIDs and print them 
  debug:
    var: ansible_devices

- name: Extract UUIDs and print them 
  debug:
    var: ansible_devices.links

- name: Determine the largest disk and its UUID
  set_fact:
     largest_disk: "{{ ansible_devices | dict2items | map(attribute='value') | selectattr('size', 'defined') | sort(attribute='size', reverse=True) | first }}"

- name: Print the UUID of the largest disk
  debug:
    msg: "Largest Disk UUID: {{ largest_disk.links.uuids }}"  # Assuming UUID exists